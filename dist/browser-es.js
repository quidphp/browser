(()=>{var t={155:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],a=!1,l=-1;function h(){a&&c&&(a=!1,c.length?u=c.concat(u):l=-1,u.length&&f())}function f(){if(!a){var t=o(h);a=!0;for(var e=u.length;e;){for(c=u,u=[];++l<e;)c&&c[l].run();l=-1,e=u.length}c=null,a=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||a||o(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},505:(t,e,r)=>{"use strict";r.d(e,{Arr:()=>O,ArrLike:()=>D,Bool:()=>C,Component:()=>U,Datetime:()=>n,Debug:()=>i,Env:()=>o,Factory:()=>c,Func:()=>F,Html:()=>u,Integer:()=>R,Json:()=>a,Nav:()=>l,Num:()=>I,Obj:()=>B,Pojo:()=>W,Scalar:()=>q,Shortcut:()=>V,Str:()=>M,Test:()=>X,TestSuite:()=>h,Tool:()=>Q,Validate:()=>f,Vari:()=>p});const n={now:function(){return(new Date).getTime()},localeFormat:function(t,e,r){return M.typecheck(t),(e=M.isNotEmpty(e)?new Date(e):new Date).toLocaleString(t,r)},year:function(){return(new Date).getFullYear()},ymd:function(t,e,r,n){let i=R.is(t)?new Date(1e3*t):new Date;return i.setHours(0,0,0),R.is(n)&&i.setDate(n),R.is(r)&&i.setMonth(r-1),R.is(e)&&i.setFullYear(e),i.toISOString().substr(0,10)},his:function(t){return(R.is(t)?new Date(1e3*t):new Date).toTimeString().split(" ")[0]}},i=new function(){let t=!1;this.status=function(e){return q.is(e)&&(t=e),t},this.is=function(e){return!0===t||t===e},this.assertThrow=function(t){if(!0!==t)throw new Error},this.logError=function(t){console.error("Catched",t)}};var s=r(155);const o={isNode:function(){return void 0!==s&&void 0!==s.release&&"node"===s.release.name},isBrowser:function(){return!this.isNode()},isWindow:function(t){let e=!1;return this.isBrowser()&&B.is(t)&&(e=t instanceof Window||t.window===t),e},isTarget:function(t){let e=!1;return this.isBrowser()&&B.is(t)&&(e=t instanceof HTMLElement||t instanceof HTMLTemplateElement||t instanceof DocumentFragment||t===document||this.isWindow(t)||O.in(t.nodeType,[Node.TEXT_NODE,Node.DOCUMENT_TYPE_NODE])),e}};function c(t){const e=Object.create(!0===t?{}:t||null),r=Array.prototype.slice.call(arguments,1);return Object.assign.apply(null,[e].concat(r)),e}const u={valueAttr:{br:"data-value",hr:"data-value",img:"src",meta:"content",link:"href",input:"value"},htmlEscapes:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},isSelfClosing:function(t){return O.in(t,["br","hr","img","meta","link","input"])},escape:function(t){const e=this;return M.typecheck(t),t.replace(/[&<>"']/g,(function(t){return e.htmlEscapes[t]}))},start:function(t,e,r){let n="";M.typecheck(t,!0);const i=this.isSelfClosing(t),s=this.attr(r,t,e);return n+="<",n+=t,M.isNotEmpty(s)&&(n+=" ",n+=s),!0===i?n+="/>":(n+=">",n+=this.value(e)),n},end:function(t){let e="";M.typecheck(t,!0);return!1===this.isSelfClosing(t)&&(e+="</",e+=t,e+=">"),e},value:function(t,e){return!0===t?t=!0===e?1:"&nbsp;":!1===t&&(t=!0===e?0:""),!0!==e&&(W.is(t)&&(t=W.values(t)),O.is(t)&&(t=t.join(", "))),M.cast(t,!0)},attr:function(t,e,r){let n="";const i=this.isSelfClosing(e);if(t=this.attrToPojo(t),!0===i&&W.keyExists(e,this.valueAttr)){const n=W.get(e,this.valueAttr);if(null!=n){null!=W.get(n,t)&&null==r||(t[n]=this.value(r,!0))}}return t=this.prepareAttr(t),n=W.str(t,"="," ",!0),n},attrToPojo:function(t){let e={};return M.isNotEmpty(t)&&(e={class:t}),W.is(t)&&(e=t),e},prepareAttr:function(t){let e={};W.typecheck(t);const r=function(t,e){return{key:M.fromCamelCase("-",t),value:C.is(e)?C.toInt(e):e}};return W.each(t,(function(t,n){const i=r(n,t);n=i.key,t=i.value,"class"===n&&O.is(t)?t=t.join(" "):"data"===n&&W.is(t)&&(W.each(t,(function(t,n){const i=r(n,t),s="data-"+i.key;e[s]=i.value})),t=null),null!=t&&(e[n]=t)})),e},tag:function(t,e,r){return this.start(t,e,r)+this.end(t)},tagCond:function(t,e,r){return p.isNotEmpty(this.value(e))?this.tag(t,e,r):""},div:function(t,e){return this.tag("div",t,e)},span:function(t,e){return this.tag("span",t,e)},ul:function(t,e){return this.tag("ul",t,e)},li:function(t,e){return this.tag("li",t,e)},input:function(t,e){return this.tag("input",t,W.replace({type:"text"},this.attrToPojo(e)))},button:function(t,e){return this.tag("button",t,W.replace({type:"button"},this.attrToPojo(e)))}},a={encode:function(t){return JSON.stringify(t)},decode:function(t){return JSON.parse(M.typecheck(t))},recode:function(t){return this.decode(this.encode(t))}},l={isFirst:function(t,e){return t===this.getFirst(e)},hasPrev:function(t,e,r){return null!=this.getPrev(t,e,r)},hasNext:function(t,e,r){return null!=this.getNext(t,e,r)},isLast:function(t,e){return t===this.getLast(e)},isIndex:function(t,e){return this.getIndex(t,e)===t},getFirst:function(t){return R.isPositive(t)?0:null},getPrev:function(t,e,r){let n=null;if(R.isPositive(e)){const i=e-1,s=(t=R.is(t)?t:i)-1;s<0?!0===r&&(n=i):n=s}return n},getNext:function(t,e,r){let n=null;if(R.isPositive(e)){const i=e-1,s=(t=R.is(t)?t:-1)+1;s>i?!0===r&&(n=0):n=s}return n},getLast:function(t){return R.isPositive(t)?t-1:null},getIndex:function(t,e){return R.is(t)&&t>=0&&R.isPositive(e)&&t<e?t:null},index:function(t,e,r,n){let i=null;return R.isPositive(r)&&("first"===t?i=this.getFirst(r):"last"===t?i=this.getLast(r):"prev"===t?i=this.getPrev(e,r,n):"next"===t?i=this.getNext(e,r,n):R.is(t)&&(i=this.getIndex(t,r))),i},indexObj:function(t,e,r,n){let i=null;if(B.typechecks(r,!1),null!=r){const s=O.length(r);B.is(t)&&(t=O.search(t,r)),B.is(e)&&(e=O.search(e,r));const o=this.index(t,e,s,n);R.is(o)&&(i=O.get(o,r))}return i}};function h(t){return W.each(t,(function(t,e){return t()}))}const f={isNumericDash:function(t){return this.regex(t,"^[0-9-]+$")},isEmail:function(t){return this.regex(t,/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{1,4})+$/)},isRegexStr:function(t){return M.isNotEmpty(t)||t instanceof RegExp},regex:function(t,e){let r=!1;if(M.is(t)&&this.isRegexStr(e)){new RegExp(e).test(t)&&(r=!0)}return r},trigger:function(t,e,r){let n=this.required(t,e);return!0===n&&(n=this.pattern(t,r)),n},required:function(t,e){let r=!0;return C.is(e)&&(e=C.toInt(e)),I.isPositive(e)&&(t=M.cast(t),(t=M.trim(t)).length||(r=!1)),r},pattern:function(t,e){let r=!0;return M.isNotEmpty(e)&&(t=M.cast(t)).length&&!this.regex(t,e)&&(r=!1),r}},p={is:function(t){return void 0!==t},isEmpty:function(t){let e=!0;return O.is(t)||M.is(t)?e=!(t.length>0):q.is(t)?e=!t:o.isTarget(t)?e=!1:null!=t&&this.eachProto(t,(function(){return e=!1,!1})),e},isNotEmpty:function(t){return!this.isEmpty(t)},isReallyEmpty:function(t){return!I.is(t)&&!C.is(t)&&this.isEmpty(t)},isNotReallyEmpty:function(t){return!this.isReallyEmpty(t)},isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isEqual:function(){let t,e=!1,r=null;return e=D.each(arguments,(function(e){if(r=a.encode(e),void 0!==t)return r===t;t=r})),e},isEqualStrict:function(){let t,e=!1;return e=D.each(arguments,(function(e){if(void 0!==t)return Object.is(t,e);t=e})),e},type:function(t){let e=typeof t;const r={};if(null==t)e=t+"";else if("function"===e){const n=r.toString.call(t);e=r[n]||"object"}return e},check:function(t,e){if(t!==e)throw new Error([t,e]);return t},eachProto:function(t,e){let r=null;if(F.is(e)){var n,i;let s;for(n in r=!0,t)if(i=t[n],s=e.call(i,i,n,t),!1===s){r=!1;break}}return r}},d={is:function(t){return Array.isArray(t)},in:function(t,e){return this.is(e)?Array.prototype.includes.call(e,t):null},keys:function(t){return this.typecheck(t),Array.from(Array.prototype.keys.call(t))},valueFirst:function(t){return this.typecheck(t),t.length?t[0]:void 0},valueLast:function(t){return this.typecheck(t),t.length?t[t.length-1]:void 0},keyFirst:function(t){return this.typecheck(t),t.length?0:void 0},keyLast:function(t){return this.typecheck(t),t.length?t.length-1:void 0},search:function(t,e){let r=null;return this.typecheck(e),r=Array.prototype.indexOf.call(e,t),r=-1===r?null:r,r},slice:function(t,e,r){let n=null;return this.typecheck(r),t=R.is(t)?t:0,e=R.is(e)?e:void 0,n=Array.prototype.slice.call(r,t,e),n},sliceStart:function(t,e){return this.slice(t,!0,e)},merge:function(t){let e=null;this.typecheck(t);const r=D.sliceStart(1,arguments);return e=Array.prototype.concat.apply(t,r),e},clean:function(t){return this.filter(t,(function(t){return p.isNotReallyEmpty(t)}))},valueStrip:function(t,e){return this.filter(e,(function(e){return e!==t}))},find:function(t,e){return this.typecheck(t),F.typecheck(e),Array.prototype.find.call(t,e)},some:function(t,e){return this.typecheck(t),F.typecheck(e),Array.prototype.some.call(t,e)},every:function(t,e){return this.typecheck(t),F.typecheck(e),Array.prototype.every.call(t,e)},map:function(t,e){return this.typecheck(t),F.typecheck(e),Array.prototype.map.call(t,e)},filter:function(t,e){return this.typecheck(t),F.typecheck(e),Array.prototype.filter.call(t,e)},reduce:function(t,e,r){return this.typecheck(e),F.typecheck(r),Array.prototype.reduce.call(e,r,t)},column:function(t,e){const r=[];return M.typecheck(t,!0),this.each(e,(function(e){W.is(e)&&W.keyExists(t,e)&&r.push(e[t])})),r},new:function(){return[]}},y={mergeRef:function(t){this.typecheck(t);let e=t;const r=D.sliceStart(1,arguments);return this.each(r,(function(t){O.is(t)||(t=[t]),Array.prototype.push.apply(e,t)})),e},reverseRef:function(t){return this.typecheck(t),t.reverse()},spliceValue:function(t,e,r){let n=null,i=this.search(t,e);this.typecheck(e);let s=[i,1];return void 0!==r&&s.push(r),n=Array.prototype.splice.apply(e,s),n}},g={timeouts:function(t,e,r,n){return R.typecheck(e),R.typecheck(r),F.typecheck(n),O.each(t,(function(t,i){const s=e+i*r;F.timeout(s,(function(){n(t,i,s)}))}))},oddEven:function(t,e,r){return F.typechecks([e,r],!1),O.each(t,(function(t,n){const i=n+1;I.isOdd(i)?null!=e&&e(t,n):null!=r&&r(t,n)}))}},m={is:function(t){let e=!1;if(!(O.is(t)||q.is(t)||F.is(t)||o.isWindow(t))){const r=p.type(t),n=!!t&&"length"in t&&t.length;e="array"===r||0===n||"number"==typeof n&&n>0&&n-1 in t}return e},toArray:function(t){return O.is(t)?t:this.is(t)?Array.from(t):null}},v={is:function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},noop:function(){return function(){}},async:function(t,e){return this.timeout(0,t,e)},timeout:function(t,e,r){return this.typecheck(e),R.is(t)||(t=0),setTimeout(e.bind(r),t)},debounce:function(t,e){R.typecheck(t),this.typecheck(e);const r=this;let n;return function(){const i=this,s=arguments;n&&clearTimeout(n),n=r.timeout(t,(function(){e.apply(i,s)}))}},debounceOnce:function(t,e){let r=!1;return Func.typecheck(e),this.debounce(t,(function(){const t=arguments;!1===r&&(e.apply(this,t),r=!0)}))},throttle:function(t,e){R.typecheck(t),this.typecheck(e);const r=this;let n=!0;return function(){const i=this;!0===n&&(e.apply(i,arguments),n=!1,r.timeout(t,(function(){n=!0})))}}},k={is:function(t){return I.is(t)&&parseInt(t)===t},cast:function(t){return q.isNotBool(t)&&""!==t?parseInt(t):null},toBool:function(t){let e=null;return this.typecheck(t),1===t?e=!0:0===t&&(e=!1),e},toggle:function(t){let e=null;return this.typecheck(t),1===t?e=0:0===t&&(e=1),e},range:function(t,e,r){let n=null;if(t=null==t?1:t,r=null==r?1:r,this.isPositive(t,!0)&&this.isPositive(e,!0)&&this.isPositive(r)){const i=Math.floor((e-t)/r)+1,s=Array(i).fill(t);n=O.map(s,(function(t,e){return t+e*r}))}return n},unique:function(t){let e=0;return function(){return e++}}()},A={is:function(t){let e=!1;const r=p.type(t);return"number"!==r&&"string"!==r||(e=!isNaN(t-parseFloat(t))),e},isEmpty:function(t){return!!this.is(t)&&p.isEmpty(this.cast(t))},isNotEmpty:function(t){return!!this.is(t)&&p.isNotEmpty(this.cast(t))},isPositive:function(t,e){let r=!1;return this.is(t)&&((t=this.cast(t))>0||!0===e&&0===t)&&(r=!0),r},isNegative:function(t,e){let r=!1;return this.is(t)&&((t=this.cast(t))<0||!0===e&&0===t)&&(r=!0),r},isOdd:function(t){return this.is(t)&&!R.is(t/2)},isEven:function(t){return this.is(t)&&R.is(t/2)},isNan:function(t){return isNaN(t)},cast:function(t){return q.isNotBool(t)&&""!==t?parseFloat(t):null},str:function(t){return this.typecheck(t),Number(t).toString()}},S={decimal:function(t,e){return this.typecheck(t),e=R.is(e)?e:2,t.toFixed(e)},round:function(t){return t=this.cast(t),this.typecheck(t),Math.round(t)},floor:function(t){return t=this.cast(t),this.typecheck(t),Math.floor(t)},ceil:function(t){return t=this.cast(t),this.typecheck(t),Math.ceil(t)}},b={is:function(t){return"object"===p.type(t)},isEqual:function(){let t=!1;const e=Array.from(arguments);return e.length>1&&this.is(e[0])&&(t=p.isEqual.apply(null,e)),t},length:function(t){this.typecheck(t);return Object.keys(t).length}},w={isKey:function(t){return q.isNotBool(t)},keyExists:function(t,e){return!(!this.isKey(t)||!this.is(e))&&e.hasOwnProperty(t)},keys:function(t){return this.typecheck(t),Object.keys(t)},values:function(t){return this.typecheck(t),Object.values(t)},get:function(t,e){return this.typecheck(e),this.keyExists(t,e)?e[t]:void 0},toArray:function(t){return this.typecheck(t),Array.from(this.values(t))},valueFirst:function(t){let e;const r=this.keys(t);if(null!=r){e=t[r[0]]}return e},valueLast:function(t){let e;const r=this.keys(t);if(null!=r){e=t[r[r.length-1]]}return e},find:function(t,e){let r;return F.typecheck(e),this.each(t,(function(t,n){if(e(t,n))return r=t,!1})),r},findKey:function(t,e){let r=null;return F.typecheck(e),this.each(t,(function(t,n){if(e(t,n))return r=n,!1})),r},some:function(t,e){let r=!1;return F.typecheck(e),this.each(t,(function(t,n){if(e(t,n))return r=!0,!1})),r},every:function(t,e){let r=!0;return F.typecheck(e),this.each(t,(function(t,n){if(!e(t,n))return r=!1})),r},reduce:function(t,e,r){return F.typecheck(r),this.each(e,(function(e,n){t=r(t,e,n)})),t},accumulate:function(t,e,r){return F.typecheck(r),this.each(e,(function(e,n){const i=r(e,n);if(null==i)return!0;O.is(t)?t.push(i):W.is(t)?t[n]=i:t+=i})),t},str:function(t,e,r,n){return e=M.is(e)?e:"=",r=M.is(r)?r:" ",this.reduce("",t,(function(t,i,s){if(M.isNotEmpty(s))return i=M.cast(i,!0),!0===n&&(i=M.quote(i,!1,!0)),t.length&&(t+=r),t+=s,t+=e,t+=i}))},climb:function(t,e){M.is(t)&&(t=M.explode("/",t)),O.typecheck(t),this.typecheck(e);const r=this;return O.each(t,(function(t){if(!r.keyExists(t,e))return e=void 0,!1;e=e[t]})),e}},E={each:function(t,e){let r=!0;F.typecheck(e);let n,i,s,o=this.keys(t);for(var c=0;c<o.length;c++)if(n=o[c],i=t[n],s=e(i,n),!1===s){r=!1;break}return r}},N={copy:function(t){return this.typecheck(t),Object.assign(this.new(),t)},new:function(){return{}},filter:function(t,e){let r=this.new();F.typecheck(e);const n=!Array.isArray(r);return this.each(t,(function(t,i){const s=e(t,i);i=!1===n?r.length:i,s&&(r[i]=t)})),r},map:function(t,e){let r=this.new();return F.typecheck(e),this.each(t,(function(t,n){const i=e(t,n);r[n]=i})),r}},H={set:function(t,e,r){let n=this.copy(r);return n[t]=e,n},unset:function(t,e){let r=this.copy(e);return delete r[t],r},unsets:function(t,e){let r=this.copy(e);const n=this;return O.each(t,(function(t){n.keyExists(t,e)&&delete r[t]})),r},replace:function(){let t=this.new(),e=Array.from(arguments);if(e.length>0){const r=this;O.each(e,(function(e){r.typecheck(e,!1),null!=e&&(t=Object.assign(t,e))}))}return t}},T={setRef:function(t,e,r){return this.typecheck(r),r[t]=e,r},unsetRef:function(t,e){return this.typecheck(e),this.keyExists(t,e)&&delete e[t],e},unsetsRef:function(t,e){this.typecheck(e);const r=this;return O.each(t,(function(t){r.keyExists(t,e)&&delete e[t]})),e}},P={is:function(t){return null!=t&&"object"==typeof t&&Object.getPrototypeOf(t)===Object.prototype&&"[object Object]"===t.toString()},gets:function(t,e){let r={};this.typecheck(e);const n=this;return O.each(t,(function(t){r[t]=n.keyExists(t,e)?e[t]:void 0})),r},replaceRecursive:function(){let t=null,e=Array.from(arguments);if(e.length>0){t=this.copy(e[0]);const r=this,n=O.sliceStart(1,e);O.each(n,(function(e){null!=e&&r.each(e,(function(e,n){r.is(t[n])&&r.keyExists(n,t)?t[n]=r.replaceRecursive(t[n],e):t[n]=e}))}))}return t}},x={is:function(t){let e=!1;const r=typeof t;return"boolean"!==r&&"number"!==r&&"string"!==r||(e=!0),e},isNotBool:function(t){return this.is(t)&&!C.is(t)},cast:function(t,e){return null!=t&&null!=e&&(O.in(e,[!0,"json"])?t=a.decode(t):"int"===e?t=R.cast(t):"num"===e?t=I.cast(t):"bool"===e&&this.is(t)&&(t=this.toBool(t))),t},toBool:function(t){let e=null;return this.typecheck(t),O.in(t,[1,"1",!0,"true"])?e=!0:O.in(t,[0,"0",!1,"false"])&&(e=!1),e}},j={is:function(t){return"string"==typeof t},isStart:function(t,e){return this.is(t)&&this.is(e)?e.startsWith(t):null},isEnd:function(t,e){return this.is(t)&&this.is(e)?e.endsWith(t):null},isEqual:function(t,e){return this.cast(t)===this.cast(e)},in:function(t,e){return this.is(e)&&this.is(t)?e.includes(t):null},icompare:function(t,e){return!(!this.is(t)||!this.is(e))&&t.toUpperCase()===e.toUpperCase()},cast:function(t,e){let r="";return null!=t&&(r=B.is(t)&&!0===e?a.encode(t):String(t)),r},toNum:function(t){return this.typecheck(t),I.cast(t)},toInt:function(t){return this.typecheck(t),R.cast(t)},pos:function(t,e){this.typecheck(e);let r=e.indexOf(t);return r=-1===r?null:r,r},lower:function(t){return this.typecheck(t),t.toLowerCase()},lowerFirst:function(t){return this.typecheck(t),this.isNotEmpty(t)?t.charAt(0).toLowerCase()+t.slice(1):null},upper:function(t){return this.typecheck(t),t.toUpperCase()},upperFirst:function(t){return this.typecheck(t),this.isNotEmpty(t)?t.charAt(0).toUpperCase()+t.slice(1):null},trim:function(t){return this.typecheck(t),t.trim()},quote:function(t,e,r){let n=null;this.typecheck(t);const i=!0===e?'"':"'";return!0===r&&(t=u.escape(t)),n=i+t+i,n},sub:function(t,e,r){return this.typecheck(r),R.typecheck(t),r.substring(t,!0===e?void 0:e)},excerpt:function(t,e,r){let n=this.sub(0,t,e);return n!==e&&this.isNotEmpty(r)&&(n+=r),n},explode:function(t,e,r){this.typechecks([t,e]);let n=e.split(t);return!0===r&&(n=O.clean(n)),n},explodeIndex:function(t,e,r){let n;const i=this.explode(e,r);return R.is(t)&&this.isNotEmpty(i[t])&&(n=i[t]),n},removeAllWhitespace:function(t){return this.typecheck(t),t.replace(/\s/g,"")},fromCamelCase:function(t,e){return this.typecheck(t),(e=this.trim(e)).replace(/[\w]([A-Z])/g,(function(e){return e[0]+t+e[1]})).toLowerCase()},toCamelCase:function(t,e){let r=null;const n=this;e=this.trim(e);let i=this.explode(t,e,!0);return i=O.map(i,(function(t,e){return 0==e?n.lower(t):n.upperFirst(t)})),r=i.join(""),r=this.removeAllWhitespace(r),r},slug:function(t){return(t=this.lower(t)).replace(/ /g,"-").replace(/[^\w-]+/g,"").replace(/--/g,"-")},keepNumber:function(t){return this.typecheck(t),t.replace(/[^0-9]/g,"")},replace:function(t,e){return this.typecheck(e),W.each(t,(function(t,r){e=e.replace(r,t)})),e}},L={is:function(t){return"object"!==p.type(t)},are:function(t){const e=this;return!!O.is(t)&&O.each(t,(function(t){return e.is(t)}))},isEmpty:function(t){return!!this.is(t)&&p.isEmpty(t)},isNotEmpty:function(t){return!!this.is(t)&&p.isNotEmpty(t)},typecheck:function(t,e){if((!0===e&&!this.isNotEmpty(t)||!0!==e&&!this.is(t))&&(!1!==e||null!=t))throw new Error(t);return t},typechecks:function(t,e){if(!O.is(t))throw new Error(t);{const r=this;O.each(t,(function(t){r.typecheck(t,e)}))}return t}},O=c(L,b,w,E,N,H,T,d,y,g),D=c(L,b,w,E,N,d,m,g),C=c(L,{is:function(t){return"boolean"==typeof t},toInt:function(t){let e=null;return this.typecheck(t),!0===t?e=1:!1===t&&(e=0),e},toggle:function(t){let e=null;return this.typecheck(t),!0===t?e=!1:!1===t&&(e=!0),e}}),F=c(L,b,v),R=c(L,A,k),I=c(L,A,S),B=c(L,b,w,E,N,H,T,{keyExists:function(t,e){return!(!this.isKey(t)||!this.is(e))&&t in e}}),W=c(L,b,w,E,N,H,T,P),q=c(L,x),M=c(L,b,w,E,j),Q={Type:L,ArrLoop:g},X={},U={},V={d:console.log,assert:i.assertThrow.bind(i),logError:i.logError.bind(i)}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,r),s.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{Arr:()=>t.Arr,ArrLike:()=>t.ArrLike,Bool:()=>t.Bool,Browser:()=>e,Component:()=>t.Component,Datetime:()=>t.Datetime,Debug:()=>t.Debug,Doc:()=>H,Dom:()=>i,Ele:()=>T,Env:()=>t.Env,Evt:()=>E,Factory:()=>t.Factory,Func:()=>t.Func,HistoryState:()=>s,Html:()=>t.Html,Integer:()=>t.Integer,Json:()=>t.Json,Nav:()=>t.Nav,Nod:()=>P,Num:()=>t.Num,Obj:()=>t.Obj,Pojo:()=>t.Pojo,Request:()=>o,Scalar:()=>t.Scalar,Shortcut:()=>t.Shortcut,Str:()=>t.Str,Target:()=>x,Test:()=>t.Test,TestSuite:()=>t.TestSuite,Tool:()=>t.Tool,Uri:()=>c,Validate:()=>t.Validate,Vari:()=>t.Vari,Win:()=>N,Xhr:()=>u});var t=r(505);const e={isOldIe:function(){return t.Str.in("MSIE ",window.navigator.userAgent)},isIe11:function(){return t.Str.in("Trident/",window.navigator.userAgent)},isIe:function(){return this.isOldIe()||this.isIe11()},isUnsupported:function(t){return!(!0!==t||!this.isIe11())||this.isOldIe()},allowsCookie:function(){return navigator.cookieEnabled}},i={selectorInput:function(t){var e="input,select,textarea,button";return e+=!0!==t?"[type='submit']":""},htmlStr:function(e){var r="";return t.Str.is(e)?r=e:t.Scalar.is(e)?r=t.Str.cast(e):H.is(e)?r=H.getHtml(e):(T.is(e)||T.are(e))&&(r=T.getOuterHtml(e)),r},htmlNodes:function(e,r){var n=[];return t.Str.is(e)?n=this.parse(e):H.is(e)?(e=H.realNode(e),n.push(!0===r?H.clone(e):e)):T.are(e)?n=!0===r?T.clones(e):e:T.is(e)&&n.push(!0===r?T.clone(e):e),n},safeHtml:function(e){return t.Str.typecheck(e),e=(e=(e=e.replace(/<\!DOCTYPE[^>]*>/i,"")).replace(/<(html|head|body)([\s\>])/gi,'<div data-tag="$1"$2')).replace(/<\/(html|head|body)\>/gi,"</div>"),e=t.Str.trim(e)},parse:function(t){t=this.safeHtml(t);var e=document.createElement("template");e.innerHTML=t;var r=e.content;return H.children(r,null,!0)},parseOne:function(e){return t.Arr.valueFirst(this.parse(e))},querySelector:function(e,r){var n=void 0;t.Str.typecheck(e);var i=this.parse(r);if(t.Arr.isNotEmpty(i)){var s=T.mergedQsa(i,e);if(t.Arr.isNotEmpty(s)){var o=t.Arr.valueFirst(s);n=T.getHtml(o)}}return n},doc:function(e){var r={doc:this.parse(e),docEle:[],html:null,htmlAttr:null,head:null,headAttr:null,title:"?",titleHtml:"?",meta:null,body:null,bodyAttr:null};if(t.Arr.accumulate(r.docEle,r.doc,(function(t){return T.is(t)?t:null})),r.html=T.find(r.docEle,"[data-tag='html']")||t.Arr.valueFirst(r.docEle),null!=r.html&&(T.removeAttr(r.html,"data-tag"),r.htmlAttr=T.attr(r.html),r.head=T.scopedQuery(r.html,"[data-tag='head']"),r.body=T.scopedQuery(r.html,"[data-tag='body']"),null!=r.head)){var n=T.scopedQuery(r.head,"title");T.removeAttr(r.head,"data-tag"),r.headAttr=T.attr(r.head),r.title=null!=n?T.getText(n):"?",r.titleHtml=t.Str.replace({"<":"&lt;",">":"&gt;"," & ":" &amp; "},r.title),r.meta=T.scopedQueryAll(r.head,"meta")}if(null!=r.body)T.removeAttr(r.body,"data-tag"),r.bodyAttr=T.attr(r.body);else{var i=T.getOuterHtml(r.doc),s=t.Html.div(i,{dataTag:"body"});r.body=this.parseOne(s)}return r}},s={is:function(e){var r=!1;return t.Pojo.is(e)&&t.Str.is(e.url)&&t.Num.is(e.timestamp)&&(r=!0),r},isChangeValid:function(t,e,r){var n=!1;if(this.is(t)&&this.is(e)){var i=c.isInternal(t.url,e.url),s=c.hasExtension(t.url),o=c.isHashChange(t.url,e.url),u=c.isSameWithHash(t.url,e.url);!0===i&&!1===s&&!1===o&&!1===u&&(r&&!1!==c.isSamePathQuery(t.url,e.url)||(n=!0))}return n},make:function(e,r,n){t.Str.typecheck(e);var i=c.absolute(e,!0),s=t.Str.isEnd("#",e),o=t.Str.isEnd("#",i);return!0===n&&!0===o?i=i.slice(0,-1):!0!==n&&!0===s&&!1===o&&(i+="#"),{url:i,title:r||null,timestamp:t.Datetime.now()}}},o={relative:function(t){var e=window.location.pathname+window.location.search;return!0===t&&window.location.hash&&(e+=c.makeHash(window.location.hash,!0)),e},absolute:function(){return window.location.href},scheme:function(e){var r=location.protocol;return!0!==e&&(r=r.substring(0,t.Str.pos(":",r))),r},host:function(){return location.hostname},schemeHost:function(){return location.origin},fragment:function(){return c.makeHash(window.location.hash)},parse:function(){return new URL(this.absolute())}},c={isInternal:function(e,r){var n=!1;if(t.Str.is(e)){r=t.Str.is(r)?this.parse(r):o.parse();var i=this.parse(e);i.protocol===r.protocol&&i.host===r.host&&(n=!0)}return n},isExternal:function(t,e){return!this.isInternal(t,e)},hasExtension:function(t){return null!=this.extension(t)},hasFragment:function(e){var r=!1;if(t.Str.is(e)){var n=this.parse(e);t.Str.isNotEmpty(n.hash)&&(r=!0)}return r},isOnlyHash:function(e){return t.Str.length(e)>1&&t.Str.isStart("#",e)},isSamePathQuery:function(e,r){var n=!1;if(t.Str.is(e)){r=t.Str.is(r)?this.parse(r):o.parse();var i=this.parse(e);i.pathname===r.pathname&&i.search===r.search&&(n=!0)}return n},isSamePathQueryHash:function(e,r){var n=!1;if(t.Str.is(e)){r=t.Str.is(r)?this.parse(r):o.parse();var i=this.parse(e);i.pathname===r.pathname&&i.search===r.search&&i.hash===r.hash&&(n=!0)}return n},isHashChange:function(e,r){var n=!1;if(t.Str.is(e)){r=t.Str.is(r)?this.parse(r):o.parse();var i=this.parse(e);i.protocol===r.protocol&&i.host===r.host&&i.pathname===r.pathname&&i.search===r.search&&(t.Str.isNotEmpty(i.hash)||t.Str.isNotEmpty(r.hash))&&i.hash!==r.hash&&(n=!0)}return n},isSameWithHash:function(t,e){return this.hasFragment(t)&&t===e},relative:function(t,e){return this.build(this.parse(t),!1,e)},absolute:function(t,e){return this.build(this.parse(t),!0,e)},path:function(t){return this.parse(t).pathname},query:function(t){return this.makeQuery(this.parse(t).search).toString()},fragment:function(t){return this.makeHash(this.parse(t).hash,!1)},basename:function(e){var r=null,n=this.path(e);return t.Str.is(n)&&(r=n.substr(n.lastIndexOf("/")+1)),r},filename:function(e){var r=null,n=this.basename(e);return t.Str.is(n)&&(r=n.replace(/\.[^.$]+$/,"")),r},extension:function(e){var r=null,n=this.parse(e),i=/(?:\.([^.]+))?$/.exec(n.pathname);return t.Arr.is(i)&&2===i.length&&(r=i[1]),r},parse:function(e){t.Str.typecheck(e);var r=o.schemeHost();return t.Str.isStart("#",e)&&(e=o.relative()+e),new URL(e,r)},build:function(e,r,n){var i="";if(t.Obj.typecheck(e),!0===r&&(i+=t.Str.is(e.protocol)?e.protocol:o.scheme(!0),i+="//",i+=t.Str.is(e.host)?e.host:o.host()),i+=e.pathname,e.search){var s=(e.search instanceof URLSearchParams?e.search:this.makeQuery(e.search)).toString();t.Str.isNotEmpty(s)&&(i+="?"+s)}return e.hash&&!0===n&&(i+=this.makeHash(e.hash,!0)),i},makeQuery:function(e){var r=t.Str.is(e)?new URLSearchParams(e):new URLSearchParams;return t.Pojo.is(e)&&t.Pojo.each(e,(function(t,e){t=null==t?"":t,r.append(e,t)})),r},makeHash:function(e,r){var n="";if(t.Str.isNotEmpty(e)){n=e;var i=t.Str.isStart("#",n);!0===r?n=i?n:"#"+n:i&&(n=t.Str.sub(1,!0,n))}else!0===r&&(n="#");return n},getMailto:function(e){var r=null;if(t.Str.typecheck(e),t.Str.isNotEmpty(e)){var n=e.replace(/mailto:/,"");t.Validate.isEmail(n)&&(r=n)}return r}},u=new function(){var e=this;this.isStatusSuccess=function(e){return t.Integer.is(e)&&e>=200&&e<400},this.isResponseJson=function(e){var r=!1;if(e instanceof XMLHttpRequest){var n=e.getResponseHeader("Content-Type");t.Str.in("/json",n)&&(r=!0)}return r},this.trigger=function(i,s){i=n.call(this,i),t.Str.typecheck(i.url,!0);var o=new XMLHttpRequest;return o.open(i.method,i.url,!0),o.timeout=i.timeout,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.ontimeout=function(){r("error",o,i,s)},o.onreadystatechange=function(){if(this.readyState===XMLHttpRequest.DONE){var t=e.isStatusSuccess(this.status);!1===t?r("error",o,i,s):!0===t&&r("success",o,i,s),r("complete",o,i,s)}},null!=o.upload&&o.upload.addEventListener("progress",(function(e){if(t.Func.is(i.progress)&&!0===e.lengthComputable){var n=parseInt(e.loaded/e.total*100);r("progress",o,i,s,n,e)}})),r("before",o,i,s),o.send(i.data),o},this.configFromString=function(e){return t.Str.typecheck(e,!0),{url:e}};var r=function(e,r,n,i){var s=t.Pojo.get(e,n),o=t.Pojo.is(i)?t.Pojo.get(e,i):null,c=t.ArrLike.sliceStart(4,arguments);c.push(r),t.Func.is(s)&&s.apply(r,c),t.Func.is(o)&&o.apply(r,c)},n=function(e){if(t.Pojo.is(e)&&t.Str.is(e.uri)&&(e.url=e.uri),e=t.Pojo.replace({url:void 0,method:void 0,data:void 0,timeout:1e4},e),t.Str.is(e.method)||(e.method="get"),e.method=e.method.toUpperCase(),t.Pojo.is(e.data))if("POST"===e.method)e.data=this.pojoToFormData(e.data);else{var r=c.parse(e.url),n=c.makeQuery(e.data).toString();r.search=n,e.url=r.toString()}return!e.data instanceof FormData&&(e.data=null),e};this.configFromNode=function(e,r,i){T.typecheck(e);var c=t.Pojo.is(r)?r:{},a=T.tag(e);return null==c.method&&(c=o(c,e,a)),null==(c=s(c,e,a)).data&&(c=u(c,e,a)),!0===i&&(c=this.configNodeEvents(e,c)),c=n.call(this,c)},this.configNodeEvents=function(r,n){var i=this;return T.typecheck(r),t.Pojo.typecheck(n),n.before=function(t){x.triggerHandler(r,"ajax:before",t)},n.progress=function(t,e,n){x.triggerHandler(r,"ajax:progress",t,e,n)},n.success=function(e){var n=t.Str.isNotEmpty(e.responseText)&&i.isResponseJson(e)?t.Json.decode(e.responseText):e.responseText;x.triggerHandler(r,"ajax:success",n,e)},n.error=function(t){var n=e.parseError(t.responseText);x.triggerHandler(r,"ajax:error",n,t)},n.complete=function(t){x.triggerHandler(r,"ajax:complete",t)},n},this.pojoToFormData=function(e){t.Pojo.typecheck(e);var r=new FormData;return t.Pojo.each(e,(function(t,e){r.append(e,t)})),r},this.parseError=function(e){var r="";if(t.Str.isNotEmpty(e)){var n;r=e;var s=i.parseOne(e);if(null!=s){var o=P.scopedQuery(s,".ajax-parse-error");if(null!=o&&(n=T.getOuterHtml(o)),t.Vari.isEmpty(n)){var c=P.scopedQuery(s,"body,[data-tag='body']");null!=c&&(n=T.getHtml(c))}t.Str.isNotEmpty(n)&&(r=n)}}return r};var s=function(e,r,n){if(null==e.url&&(e.url=x.triggerHandler(r,"ajax:getUrl")),null==e.url&&(e.url=T.getUri(r)),null!=e.url&&"form"===n&&t.Str.icompare(e.method,"get")){var i=T.triggerHandler(r,"form:serialize"),s=c.parse(e.url);null!=i&&null!=s&&(s.search=i,e.url=c.build(s))}return e},o=function(t,e,r){return t.method=x.triggerHandler(e,"ajax:getMethod"),null==t.method&&(t.method="form"===r?T.getAttr(e,"method")||"get":T.getAttr(e,"data-method")||"get"),t},u=function(e,r,n){if(e.data=x.triggerHandler(r,"ajax:getData"),null==e.data&&"form"===n&&t.Str.icompare(e.method,"post")){var i=new FormData(r),s=x.triggerHandler(r,"form:getClickedSubmit");if(null!=s){var o=T.getAttr(s,"name");if(t.Str.isNotEmpty(o)){var c=T.getValue(s);i.append(o,c)}}e.data=i}return e}},a={hasData:function(t,e){return void 0!==this.getData(t,e)},getDataKey:function(){return"_quid_"},allData:function(e,r){var n=void 0;this.typecheck(e);var i=this.getDataKey(),s=t.Pojo.is(e[i]);return s||!0!==r||(s=!0,e[i]={}),!0===s&&(n=e[i]),n},getData:function(e,r){t.Str.typecheck(r);var n=this.allData(e);return null!=n?t.Pojo.get(r,n):void 0},flashData:function(t,e){var r=this.getData(t,e);return this.removeData(t,e),r},setData:function(e,r,n){e=this.toArray(e),t.Str.typecheck(r,!0);var i=this;t.Arr.each(e,(function(e){var s=i.allData(e,!0);void 0===n?t.Pojo.unsetRef(r,s):t.Pojo.setRef(r,n,s)}))},removeData:function(t,e){return this.setData(t,e,void 0)},getOrSetData:function(t,e,r){var n=void 0,i=this.getData(t,e);return null==i&&null!=r?(this.setData(t,e,r),n=r):n=i,n}},l={is:function(t){return this.isCurrent(t)||this.isFragment(t)||this.isTemplate(t)},isCurrent:function(t){return t===document},isFragment:function(t){return t instanceof DocumentFragment},getDimension:function(e){this.typecheck(e);var r={width:0,height:0};if(this.isCurrent(e))r.width=t.Num.round(document.documentElement.scrollWidth),r.height=t.Num.round(document.documentElement.scrollHeight);else{var n=this.children(e);t.Arr.each(n,(function(t){var e=T.getDimension(t);r.width+=e.width,r.height+=e.height}))}return r}},h={is:function(t){return t instanceof HTMLElement},isVisible:function(t){return!!this.is(t)&&!(!t.offsetWidth&&!t.offsetHeight)},isHidden:function(t){return!!this.is(t)&&!this.isVisible(t)},isTag:function(t,e){return this.is(t)&&this.tag(t)===e},isFocused:function(t){return t===document.activeElement},isFocusable:function(e){var r=!1;if(this.is(e)){var n=this.tag(e),i=this.getDimension(e);(this.match(e,"[tabindex]")||t.Arr.in(n,["input","textarea","select","a","button"]))&&i.width>0&&i.height>0&&(r=!0)}return r},isScrollable:function(e,r){var n=!1;if(this.is(e)&&"visible"!==this.getCss(e,"overflow")){var i=this.getScroll(e);n=t.Arr.in(r,["x","horizontal"])?i.scrollableX:t.Arr.in(r,["y","vertical"])?i.scrollableY:!0===i.scrollableX?i.scrollableX:i.scrollableY}return n},hasAttr:function(e,r){return!(!this.is(e)||!t.Str.is(r))&&e.hasAttribute(r)},hasClass:function(e,r){return!(!this.is(e)||!t.Str.is(r))&&e.classList.contains(r)},tag:function(e){var r=null,n=this.getProp(e,"tagName");return t.Str.is(n)&&(r=n.toLowerCase()),r},css:function(e,r,n){var i={};this.typecheck(e);for(var s=window.getComputedStyle(e,n),o=0;o<s.length;o++){var c=s.item(o);(null==r||t.Str.isStart(r,c))&&(i[c]=s.getPropertyValue(c))}return i},getCss:function(r,n,i,s){var o=void 0;if(this.typecheck(r),t.Str.typecheck(n),e.isIe11()&&t.Arr.in(n,["width","height"])){var c=this.getDimension(r);o=t.Num.ceil(c[n])+"px"}else{o=window.getComputedStyle(r,s).getPropertyValue(n)}return o=t.Scalar.cast(o,i)},attr:function(e,r){var n={};this.typecheck(e);var i=e.attributes;return t.ArrLike.each(i,(function(e){var i=e.name;(null==r||t.Str.isStart(r,i))&&(n[i]=e.value)})),n},attrStr:function(e,r){var n=null,i=this.attr(e,r);return null!=i&&(n=t.Obj.str(i,"="," ",!0)),n},getAttr:function(e,r,n){var i=void 0;return this.typecheck(e),this.hasAttr(e,r)&&(i=e.getAttribute(r),i=t.Scalar.cast(i,n)),i},dataAttr:function(t){return this.attr(t,"data-")},getValue:function(e,r,n){var i=void 0;return this.typecheck(e),i=e.value,i=t.Str.cast(i),!0===r&&(i=t.Str.trim(i)),null!=n&&(i=t.Scalar.cast(i,n)),i},getDimension:function(e,r){this.typecheck(e),r=!0===r?"block":r;var n,i,s,o=t.Str.isNotEmpty(r);o&&(n=e.style.display,i=e.style.width,s=e.style.height,e.style.display=r,e.style.width="auto",e.style.height="auto");var c=this.getBoundingRect(e);return o&&(e.style.display=n,e.style.width=i,e.style.height=s),{width:t.Num.ceil(c.width),height:t.Num.ceil(c.height)}},getBoundingRect:function(t){return this.typecheck(t),t.getBoundingClientRect()},getScroll:function(e){var r=null;this.typecheck(e);var n=this.tag(e);if(t.Arr.in(n,["html","body"]))r=N.getScroll();else{var i=this.getBoundingRect(e);(r={top:t.Num.ceil(e.scrollTop),left:t.Num.ceil(e.scrollLeft),width:t.Num.ceil(e.scrollWidth),height:t.Num.ceil(e.scrollHeight),innerWidth:t.Num.ceil(i.width),innerHeight:t.Num.ceil(i.height),scrollableX:!1,scrollableY:!1}).innerWidth>0&&r.innerHeight>0&&(r.width>r.innerWidth&&(r.scrollableX=!0),r.height>r.innerHeight&&(r.scrollableY=!0))}return r},getOffset:function(t){return{parent:this.getOffsetParent(t),doc:this.getOffsetDoc(t),win:this.getOffsetWin(t)}},getOffsetParent:function(e){return this.typecheck(e),{top:t.Num.ceil(e.offsetTop),left:t.Num.ceil(e.offsetLeft)}},getOffsetDoc:function(e){var r=this.getBoundingRect(e),n=N.getScroll();return{top:t.Num.ceil(r.top+n.top),left:t.Num.ceil(r.left+n.left)}},getOffsetWin:function(e){var r=this.getBoundingRect(e);return{top:t.Num.ceil(r.top),left:t.Num.ceil(r.left)}},setAttr:function(e,r,n){e=this.toArray(e),t.Str.typecheck(r,!0),t.Obj.is(n)&&(n=t.Json.encode(n)),t.Bool.is(n)&&(n=t.Bool.toInt(n)),t.Arr.each(e,(function(t){void 0===n?t.removeAttribute(r):t.setAttribute(r,n)}))},removeAttr:function(t,e){return this.setAttr(t,e,void 0)},toggleAttr:function(e,r,n){e=this.toArray(e),t.Str.typecheck(r,!0);var i=this,s=t.Bool.is(n)?t.Bool.toInt(n):null;t.Arr.each(e,(function(t){var e=s;null==e&&(e=1!==(e=i.getAttr(t,r,"int"))),i.setAttr(t,r,e)}))},setsAttr:function(e,r){e=this.toArray(e),t.Pojo.typecheck(r);var n=this;t.Arr.each(e,(function(e){t.Pojo.each(r,(function(t,r){n.setAttr(e,r,t)}))}))},emptyAttr:function(e){e=this.toArray(e);var r=this;t.Arr.each(e,(function(e){t.ArrLike.each(e.attributes,(function(t){null!=t&&r.removeAttr(e,t.name)}))}))},addId:function(e,r){e=this.toArray(e),t.Str.typecheck(r);var n=this;t.Arr.each(e,(function(e){if(!n.match(e,"[id]")){var i=r+t.Integer.unique();n.setProp(e,"id",i)}}))},setCss:function(e,r,n){this.typecheck(e),t.Str.typecheck(r),r=t.Str.toCamelCase("-",r),null==n&&(n=""),e.style[r]=n},setValue:function(e,r){this.typecheck(e),r=t.Str.cast(r,!0),e.value=r},toggleClass:function(e,r,n){e=this.toArray(e),t.Str.typecheck(r,!0),t.Arr.each(e,(function(t){t.classList.toggle(r,n)}))},setDimension:function(e,r,n){this.typecheck(e),t.Scalar.is(r)&&(r=!1===(r=!0===r?this.getDimension(e,r).width:r)?void 0:r,r=t.Num.is(r)?r+"px":r,this.setCss(e,"width",r)),t.Scalar.is(n)&&(n=!1===(n=!0===n?this.getDimension(e,n).height:n)?void 0:n,n=t.Num.is(n)?n+"px":n,this.setCss(e,"height",n))},setScroll:function(e,r,n){this.typecheck(e),t.Num.is(r)&&(e.scrollTop=r>0?r:0),t.Num.is(n)&&(e.scrollLeft=n>0?n:0)},focus:function(e,r){if(this.typecheck(e),!0===r){var n=N.getScroll();e.focus(),t.Func.timeout(0,(function(){N.setScroll(n.top,n.left)}))}else e.focus()},getUri:function(t){return"form"===this.tag(t)?this.getAttr(t,"action"):this.getAttr(t,"href")||this.getAttr(t,"data-href")},serialize:function(e,r,n){e=this.toArray(e);var i=c.makeQuery();r=t.Str.is(r)?r:"name",n=t.Str.is(n)?n:"value";var s=this;return t.Arr.each(e,(function(t){var e=s.getProp(t,r),o=s.getProp(t,n);i.append(e,o)})),i.toString()},prepend:function(t,e){this.typecheck(t),e=i.htmlNodes(e),t.prepend.apply(t,e)},append:function(t,e){this.typecheck(t),e=i.htmlNodes(e),t.append.apply(t,e)},insertBefore:function(e,r){return this.typecheck(e),r=i.htmlNodes(r),t.Arr.accumulate([],r,(function(t){return e.insertAdjacentElement("beforebegin",t)}))},insertAfter:function(e,r){return this.typecheck(e),r=i.htmlNodes(r),t.Arr.accumulate([],r,(function(t){return e.insertAdjacentElement("afterend",t)}))},wrapAll:function(e,r){var n=null;if(e=this.toArray(e,!0),r=i.htmlNodes(r),t.Arr.isNotEmpty(r)){n=t.Arr.valueFirst(r);var s=t.Arr.valueFirst(e);this.insertBefore(s,r),this.append(n,e)}return n}},f={specialKeyCode:[9,10,13,16,17,18,19,20,27,32,33,34,35,36,37,38,39,40,45,46,91,92,93,112,113,114,115,116,117,118,119,120,121,122,123,144,145],support:function(){var t={passive:!1,once:!1};try{var e={get passive(){return t.passive=!0,!1},get once(){return t.once=!0,!1}};window.addEventListener("test-support",null,e),window.removeEventListener("test-support",null,e)}catch(e){t.passive=!1,t.once=!1}return t}(),is:function(t){return t instanceof Event},isSpecialKeyCode:function(e){var r=!1;return this.typecheck(e),t.Integer.is(e.keyCode)&&t.Arr.in(e.keyCode,this.specialKeyCode)&&(r=!0),r},preventStop:function(t,e){return this.typecheck(t),t.preventDefault(),!0===e?t.stopImmediatePropagation():t.stopPropagation(),!1},nameFromType:function(e){t.Str.typecheck(e,!0);var r="event";return(t.Str.in(".",e)||t.Str.in(":",e))&&(r="customEvent"),r},createFromType:function(t,e){var r=null,n=this.nameFromType(t);return"customEvent"===n?r=new CustomEvent(t,e):"event"===n&&(r=new Event(t,e)),r},getTriggerTarget:function(t){var e=null;return this.typecheck(t),t.target&&(e=null!=t.triggerTarget?t.triggerTarget:t.target),e}},p={isTriggerHandlerEqual:function(e,r,n){e=this.toArray(e);var i=t.Arr.merge([r],t.ArrLike.sliceStart(3,arguments)),s=this;return t.Arr.every(e,(function(e){var r=t.Arr.merge([e],i);return s.triggerHandler.apply(s,r)===n}))},allHandler:function(t,e){return this.typecheck(t),this.getOrSetData(t,"_handler_",!0===e?{}:void 0)},getHandler:function(e,r){t.Str.typecheck(r);var n=this.allHandler(e);return null!=n?t.Pojo.get(r,n):void 0},setHandler:function(e,r,n){t.Str.typecheck(r,!0),t.Func.typecheck(n),e=this.toArray(e);var i=this;t.Arr.each(e,(function(e){var s=i.allHandler(e,!0);t.Pojo.setRef(r,n,s)}))},setsHandler:function(e,r,n){t.Str.typecheck(r,!0),t.Pojo.typecheck(n);var i=this;t.Pojo.each(n,(function(t,n){var s=r+n;i.setHandler(e,s,t)}))},removeHandler:function(e,r){t.Str.typecheck(r,!0),e=this.toArray(e);var n=this;t.Arr.each(e,(function(e){var i=n.allHandler(e,!0);t.Pojo.unsetRef(r,i)}))},triggerHandler:function(e,r){var n=void 0;this.typecheck(e),t.Str.typecheck(r,!0);var i=this.getHandler(e,r);if(t.Func.is(i)){var s=t.ArrLike.sliceStart(2,arguments);n=i.apply(e,s)}return n},triggersHandler:function(e,r){e=this.toArray(e);var n=this,i=t.ArrLike.sliceStart(2,arguments);return t.Arr.accumulate([],e,(function(e){return n.triggerHandler.apply(n,t.Arr.merge([e,r],i))}))}},d=new function(){this.addListener=function(r,n,i,s,o,c){var u=null;t.Str.typecheck(n,!0),r=this.toArray(r);var a=this;if(t.Arr.isNotEmpty(r)){c=Object.assign({capture:!1,once:!1},c);var l=!0===E.support.once?c:c.capture,h=e.call(this,n,i,o,l,c);t.Arr.each(r,(function(e){e.addEventListener(n,h,l),(t.Str.isNotEmpty(s)||!0===s)&&a.registerListener(e,s,n,h,l)})),u=[n,h,l]}return u},this.registerListener=function(e,r,n,i,s){t.Str.typecheck(n,!0),r=!0===r?n:r,t.Str.typecheck(r,!0);var o=this.getOrSetData(e,"rel",{}),c=[n,i,s];t.Pojo.setRef(r,c,o)},this.addListenerOnce=function(t,e,r,n,i,s){return this.addListener(t,e,r,n,i,Object.assign({},s,{once:!0}))},this.addDelegatedListener=function(t,e,r,n,i,s){return this.addListener(t,e,n,i,r,s)},this.addPassiveListener=function(t,e,r,n,i,s){return this.addListener(t,e,r,n,i,Object.assign({},s,{passive:!0}))},this.removeListener=function(e,r){e=this.toArray(e);var n=this;t.Arr.each(e,(function(e){if(t.Str.isNotEmpty(r)){var i=r,s=n.getData(e,"rel");t.Pojo.is(s)&&(r=t.Pojo.get(i,s),t.Pojo.unsetRef(i,s))}t.Arr.is(r)&&e.removeEventListener.apply(e,r)}))},this.trigger=function(e,r,n){if(t.Str.typecheck(r,!0),e=this.toArray(e),t.Arr.isNotEmpty(e)){var i=E.createFromType(r,n);t.Arr.each(e,(function(t){t.dispatchEvent(i)}))}},this.triggerBubble=function(e,r){var n=t.ArrLike.sliceStart(2,arguments),i={bubbles:!0,cancelable:!0,detail:n};return this.trigger(e,r,i)},this.triggerNoBubble=function(e,r){var n=t.ArrLike.sliceStart(2,arguments),i={bubbles:!1,cancelable:!0,detail:n};return this.trigger(e,r,i)},this.triggerSetup=function(e){var r=t.ArrLike.sliceStart(1,arguments),n=t.Arr.merge([e,"component:setup"],r);this.triggerNoBubble.apply(this,n),n=t.Arr.merge([e,"component:ready"],r),this.triggerNoBubble.apply(this,n)},this.triggerTeardown=function(e){var r=t.Arr.merge([e,"component:teardown"],t.ArrLike.sliceStart(1,arguments));return this.triggerNoBubble.apply(this,r)};var e=function(e,n,i,s,o){var c=this;return function u(a){var l=null==i,h=this;if(!0===o.once&&!1===E.support.once&&c.removeListener(a.target,[e,u,s]),t.Str.isNotEmpty(i)&&null!=a.target&&(l=r.call(this,a,i),h=a.triggerTarget),!0===l){var f=[a],p=a.detail;f=t.Arr.merge(f,p),n.apply(h,f)}}},r=function(e,r){var n=!1,i=e.target,s=P.scopedQueryAll(this,r),o=i;return n=!!t.Arr.in(i,s)||t.Arr.some(s,(function(t){if(t.contains(i))return o=P.closest(i,r),!0})),e.delegateTarget=this,e.triggerTarget=o,n}};var y={is:function(t){return T.is(t)||H.is(t)||this.isText(t)||this.isDoctype(t)},isText:function(t){return null!=t&&t.nodeType===Node.TEXT_NODE},isDoctype:function(t){return null!=t&&t.nodeType===Node.DOCUMENT_TYPE_NODE},isTemplate:function(t){return t instanceof HTMLTemplateElement},realNode:function(t){var e=t;return this.isTemplate(t)&&(e=t.content),e},getText:function(t){return this.typecheck(t),null!=t.textContent?t.textContent:void 0},setText:function(e,r){this.typecheck(e),t.Str.typecheck(r,!1),null!=e.textContent&&(r=null==r?"":r,e.textContent=r)},clone:function(t){return this.typecheck(t),t.cloneNode(!0)},clones:function(e){var r=this;this.toArray(e);return t.Arr.accumulate([],e,(function(t){return r.clone(t)}))},remove:function(e){var r=this.toArray(e);t.Arr.each(r,(function(t){t.remove()}))}},g={isEmpty:function(e){return!!this.is(e)&&t.Str.isEmpty(this.getHtml(e))},isNotEmpty:function(e){return!!this.is(e)&&t.Str.isNotEmpty(this.getHtml(e))},getHtml:function(t){var e=P.children(t,null,!0);return T.getOuterHtml(e)},setHtml:function(e,r,n){this.typecheck(e),e=this.realNode(e);var s=P.children(e,null,!0);t.Pojo.is(r)&&(r=t.Json.encode(r)),r=i.htmlNodes(r,n),P.remove(s),t.Arr.each(r,(function(t){e.appendChild(t)}))},replaceHtml:function(e,r){var n=!1;t.Str.typecheck(r);var i=this.getHtml(e),s=document.createElement("div");return this.setHtml(s,r),i!==this.getHtml(s)&&(n=!0,this.setHtml(e,r)),n},getOuterHtml:function(e){return e=P.toArray(e),t.Arr.accumulate("",e,(function(t){var e="";return null!=t.outerHTML?e=t.outerHTML:null!=t.textContent&&(e=t.textContent),e}))}},m={blur:function(t){this.typecheck(t),t.blur()}};const v={scopedQuery:function(t,e,r){var n=null;return t=this.realNode(t),P.typecheck(t),null!=t&&(e=H.is(t)?e:":scope "+e,n=t.querySelector(e)),!0===r&&T.typecheck(n),n},scopedQueryAll:function(e,r,n){var i=null;return e=this.realNode(e),P.typecheck(e),null!=e&&(r=H.is(e)?r:":scope "+r,(i=e.querySelectorAll(r))instanceof NodeList&&(i=t.ArrLike.toArray(i))),!0===n&&T.typechecks(i,!0),i},mergedQsa:function(e,r,n){var i=null,s=this;return null!=(e=this.toArray(e))&&(i=[],t.Arr.each(e,(function(e){t.Arr.mergeRef(i,s.scopedQueryAll(e,r))}))),!0===n&&T.typechecks(i,!0),i},closest:function(e,r){return e=this.realNode(e),this.typecheck(e),t.Str.typecheck(r),e.closest(r)},closestParent:function(t,e){var r=this.parent(t);return null!=r?this.closest(r,e):null},match:function(e,r){return e=this.realNode(e),P.typecheck(e),t.Str.typecheck(r),!H.is(e)&&e.matches(r)},some:function(e,r){t.Str.typecheck(r),e=this.toArray(e);var n=this;return t.Arr.some(e,(function(t){return n.match(t,r)}))},every:function(e,r){t.Str.typecheck(r),e=this.toArray(e);var n=this;return t.Arr.every(e,(function(t){return n.match(t,r)}))},filter:function(e,r){t.Str.typecheck(r),e=this.toArray(e);var n=this;return t.Arr.filter(e,(function(t){return n.match(t,r)}))},find:function(e,r){t.Str.typecheck(r),e=this.toArray(e);var n=this;return t.Arr.find(e,(function(t){return n.match(t,r)}))},parent:function(t,e){var r=null;t=this.realNode(t),P.typecheck(t);var n=t.parentNode;return P.is(n)&&(null==e||P.match(n,e))&&(r=n),r},parents:function(t,e,r){var n=[];for(t=this.realNode(t),P.typecheck(t);(t=P.parent(t))&&(null==r||!P.match(t,r));)(null==e||P.match(t,e))&&n.push(t);return n},prev:function(t,e){var r=null;t=this.realNode(t),this.typecheck(t);var n=t.previousElementSibling;return this.is(n)&&(null==e||this.match(n,e))&&(r=n),r},prevs:function(t,e,r){var n=[];for(t=this.realNode(t),this.typecheck(t);(t=this.prev(t))&&(null==r||!this.match(t,r));)(null==e||this.match(t,e))&&n.push(t);return n},next:function(t,e){var r=null;t=this.realNode(t),this.typecheck(t);var n=t.nextElementSibling;return this.is(n,!0)&&(null==e||this.match(n,e))&&(r=n),r},nexts:function(t,e,r){var n=[];for(t=this.realNode(t),this.typecheck(t);(t=this.next(t))&&(null==r||!this.match(t,r));)(null==e||this.match(t,e))&&n.push(t);return n},children:function(e,r,n){e=this.realNode(e),P.typecheck(e);var i,s=null!=e.children;return i=!0===n?t.ArrLike.toArray(e.childNodes):!0===s?t.ArrLike.toArray(e.children):t.ArrLike.accumulate([],e.childNodes,(function(t){return T.is(t)?t:null})),null==r?i:P.filter(i,r)},realNode:function(t){return t}},k={is:function(t){return P.is(t)||N.is(t)},are:function(e){var r=this;return e=t.ArrLike.toArray(e),!!t.Arr.is(e)&&t.Arr.every(e,(function(t){return r.is(t)}))},typecheck:function(t,e){var r=!1;if(this.is(t)||!1===e&&null==t||(r=!0),!0===r)throw new Error(t);return t},typechecks:function(e,r){var n=!1,i=this.are(e);if((!i||!0===i&&!0===r&&t.Arr.isEmpty(e))&&(n=!0),!0===n)throw new Error(e);return e},getProp:function(e,r){return this.typecheck(e),t.Obj.get(r,e)},setProp:function(e,r,n){t.Str.typecheck(r),e=this.toArray(e),t.Arr.each(e,(function(e){t.Obj.setRef(r,n,e)}))},propStr:function(e,r,n){e=this.toArray(e),t.Str.typecheck(r,!0),n=t.Str.isNotEmpty(n)?n:"-";var i=this;return t.Arr.reduce("",e,(function(t,e){return(t+=t.length?n:"")+i.getProp(e,r)}))},propObj:function(e,r,n){var i={};e=this.toArray(e);var s=this;return t.Str.typecheck(r,!0),t.Str.typecheck(n,!0),t.Arr.each(e,(function(t){var e=s.getProp(t,r),o=s.getProp(t,n);i[e]=o})),i},toArray:function(e){return this.is(e)?e=[e]:t.ArrLike.is(e)?e=t.ArrLike.toArray(e):null==e&&(e=[]),this.typechecks.call(this,e)}},A={is:function(t){return this.isCurrent(t)||this.isProxy(t)},isCurrent:function(t){return t instanceof Window},isProxy:function(e){return t.Obj.is(e)&&!(e instanceof Window)&&e.window===e},hasHistoryApi:function(){var t=!1;return window.history&&window.history.pushState&&window.history.replaceState&&(navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/)||(t=!0)),t},isScrollable:function(e){var r=this.getScroll();return t.Arr.in(e,["x","horizontal"])?r.scrollableX:t.Arr.in(e,["y","vertical"])?r.scrollableY:!0===r.scrollableX?r.scrollableX:r.scrollableY},getScroll:function(){var e=t.Pojo.replace({top:t.Num.round(window.pageYOffset),left:t.Num.round(window.pageXOffset),width:t.Num.round(document.documentElement.scrollWidth),height:t.Num.round(document.documentElement.scrollHeight),innerWidth:t.Num.round(window.innerWidth),innerHeight:t.Num.round(window.innerHeight),scrollableX:!1,scrollableY:!1});return e.innerWidth>0&&e.innerHeight>0&&(e.width>e.innerWidth+1&&(e.scrollableX=!0),e.height>e.innerHeight+1&&(e.scrollableY=!0)),e},setScroll:function(t,e){e=e>0?e:0,t=t>0?t:0,window.scrollTo(e,t)},focus:function(t){this.typecheck(t),t.focus()},getDimension:function(){return{width:t.Num.round(window.innerWidth),height:t.Num.round(window.innerHeight)}}};var S=t.Factory,b=t.Shortcut,w=t.Tool,E=S(w.Type,f),N=S(k,a,p,d,m,A),H=S(k,a,p,d,v,y,g,l),T=S(k,a,p,d,v,y,m,g,h,w.ArrLoop),P=S(k,a,p,d,v,y),x=S(k,a,p,d);b.getAttr=T.getAttr.bind(T),b.setAttr=T.setAttr.bind(T),b.toggleAttr=T.toggleAttr.bind(T),b.setCss=T.setCss.bind(T),b.toggleClass=T.toggleClass.bind(T),b.getHtml=T.getHtml.bind(T),b.setHtml=T.setHtml.bind(T),b.qs=P.scopedQuery.bind(P),b.qsa=P.scopedQueryAll.bind(P),b.getProp=x.getProp.bind(x),b.setProp=x.setProp.bind(x),b.getData=x.getData.bind(x),b.setData=x.setData.bind(x),b.setHdlr=x.setHandler.bind(x),b.setHdlrs=x.setsHandler.bind(x),b.allHdlr=x.allHandler.bind(x),b.trigHdlr=x.triggerHandler.bind(x),b.trigHdlrs=x.triggersHandler.bind(x),b.ael=x.addListener.bind(x),b.aelDelegate=x.addDelegatedListener.bind(x),b.aelPassive=x.addPassiveListener.bind(x),b.aelOnce=x.addListenerOnce.bind(x),b.rel=x.removeListener.bind(x),b.trigEvt=x.triggerNoBubble.bind(x),b.trigBubble=x.triggerBubble.bind(x),b.trigSetup=x.triggerSetup.bind(x),b.trigTeardown=x.triggerTeardown.bind(x)})(),window.Quid=n})();